<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#007bff" />
<link rel="icon" href="icon-192.png" />

<title>Buku Tamu Digital</title>
<style>
    /* Mengatur Box Model untuk Tata Letak Responsif */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      overflow-x: hidden; /* Mencegah pengguliran horizontal */
    }

    body { 
      font-family: sans-serif; 
      max-width: 700px; 
      margin: auto; 
      padding: 20px 10px; /* Padding samping untuk layar kecil */
      min-height: 100vh; /* Memastikan body memenuhi tinggi layar */
    }
    
    label { font-weight: bold; }
    select, input { 
      width: 100%; 
      padding: 6px; 
      margin-top: 5px; 
    }
    .hidden { display: none; }
    .required { color: red; }
    .error { border: 2px solid red; }
    .success { border: 2px solid green; }
    .warning { background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; margin: 10px 0; border-radius: 5px; }
    
    /* Tombol Sticky: Kembali ke Layar Utama */
    #btnHome {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ffc107;
      color: black;
      border: none;
      padding: 12px 16px;
      border-radius: 50px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      font-size: 16px;
      z-index: 9999;
    }
    #btnHome:hover {
      background: #e0a800;
    }
    @media (min-width: 768px) {
      #btnHome {
        display: none; /* Hanya muncul di HP/screen kecil */
      }
    }

    /* Penyesuaian untuk tampilan data agar responsif */
    .data-card {
      border: 1px solid #ddd;
      margin-bottom: 15px;
      padding: 15px;
      border-radius: 8px;
      background: #f9f9f9;
    }
    .data-grid {
      display: grid;
      grid-template-columns: 1fr; /* Tampilan satu kolom di layar kecil */
      gap: 10px;
      margin-bottom: 15px;
    }
    @media (min-width: 500px) {
      .data-grid {
        grid-template-columns: 1fr 1fr; /* Tampilan dua kolom di layar lebih besar */
      }
    }
    .data-images {
      display: flex;
      flex-direction: column; /* Tampilan vertikal di layar kecil */
      gap: 20px;
      margin-top: 15px;
    }
    @media (min-width: 500px) {
      .data-images {
        flex-direction: row; /* Tampilan horizontal di layar lebih besar */
      }
    }

    /* Memastikan elemen-elemen ini responsif */
    #signature-pad, #video, #canvas, #previewFoto {
      max-width: 100%;
      height: auto;
      width: 100%; /* Memastikan elemen mengikuti lebar container */
    }

</style>
</head>
<body>
    <h1>BUKU TAMU INSPEKTORAT DAERAH</h1>

    <h2>üìù Form Input</h2>
    <h3>üìä Lihat Data (0)</h3>
    <button>üíæ Export Data</button>

    <form id="guestForm">
        <div class="form-group">
            <label for="nama">Nama: *</label>
            <input type="text" id="nama" required>
        </div>

        <div class="form-group">
            <label for="instansiAsal">INSTANSI/ASAL: *</label>
            <select id="instansiAsal" required onchange="toggleInstansi()">
                <option value="">-- Pilih Asal --</option>
                <option value="INSTANSI/UNIT KERJA">INSTANSI/UNIT KERJA</option>
                <option value="MASYARAKAT">MASYARAKAT</option>
            </select>
        </div>

        <div class="form-group" id="instansiGroup">
            <label for="daftarInstansi">DAFTAR INSTANSI/UNIT KERJA: *</label>
            <select id="daftarInstansi">
                <option value="">-- Pilih Instansi --</option>
                <option value="SEKRETARIAT DAERAH">SEKRETARIAT DAERAH</option>
                <option value="SEKRETARIAT DPRD">SEKRETARIAT DPRD</option>
                <option value="BADAN PERENCANAAN PEMBANGUNAN DAERAH">BADAN PERENCANAAN PEMBANGUNAN DAERAH</option>
                <option value="BADAN PENGELOLAAN KEUANGAN DAN ASET DAERAH">BADAN PENGELOLAAN KEUANGAN DAN ASET DAERAH</option>
                <option value="BADAN PENGELOLAAN PAJAK DAN RETRIBUSI DAERAH">BADAN PENGELOLAAN PAJAK DAN RETRIBUSI DAERAH</option>
                <option value="BADAN KEPEGAWAIAN DAN PENGEMBANGAN SUMBER DAYA MANUSIA">BADAN KEPEGAWAIAN DAN PENGEMBANGAN SUMBER DAYA MANUSIA</option>
                <option value="BADAN KESATUAN BANGSA DAN POLITIK DAERAH">BADAN KESATUAN BANGSA DAN POLITIK DAERAH</option>
                <option value="BADAN PENANGGULANGAN BENCANA DAERAH">BADAN PENANGGULANGAN BENCANA DAERAH</option>
                <option value="DINAS LINGKUNGAN HIDUP">DINAS LINGKUNGAN HIDUP</option>
                <option value="DINAS KESEHATAN">DINAS KESEHATAN</option>
                <option value="DINAS KEPENDUDUKAN DAN PENCATATAN SIPIL">DINAS KEPENDUDUKAN DAN PENCATATAN SIPIL</option>
                <option value="DINAS KOPERASI, UMKM, PERINDUSTRIAN DAN PERDAGANGAN">DINAS KOPERASI, UMKM, PERINDUSTRIAN DAN PERDAGANGAN</option>
                <option value="DINAS SOSIAL">DINAS SOSIAL</option>
                <option value="DINAS PEMUDA, OLAHRAGA DAN PARIWISATA">DINAS PEMUDA, OLAHRAGA DAN PARIWISATA</option>
                <option value="DINAS KOMUNIKASI DAN INFORMATIKA">DINAS KOMUNIKASI DAN INFORMATIKA</option>
                <option value="DINAS PERUMAHAN, KAWASAN PERMUKIMAN DAN PERTANAHAN">DINAS PERUMAHAN, KAWASAN PERMUKIMAN DAN PERTANAHAN</option>
                <option value="DINAS PENANAMAN MODAL DAN PELAYANAN PERIZINAN TERPADU SATU PINTU">DINAS PENANAMAN MODAL DAN PELAYANAN PERIZINAN TERPADU SATU PINTU</option>
                <option value="DINAS PENDIDIKAN DAN KEBUDAYAAN">DINAS PENDIDIKAN DAN KEBUDAYAAN</option>
                <option value="DINAS KETAHANAN PANGAN">DINAS KETAHANAN PANGAN</option>
                <option value="DINAS PEMBERDAYAAN MASYARAKAT DAN TIYUH">DINAS PEMBERDAYAAN MASYARAKAT DAN TIYUH</option>
                <option value="DINAS PEMBERDAYAAN PEREMPUAN DAN PERLINDUNGAN ANAK">DINAS PEMBERDAYAAN PEREMPUAN DAN PERLINDUNGAN ANAK</option>
                <option value="DINAS PENGENDALIAN PENDUDUK DAN KELUARGA BERENCANA">DINAS PENGENDALIAN PENDUDUK DAN KELUARGA BERENCANA</option>
                <option value="DINAS PERHUBUNGAN">DINAS PERHUBUNGAN</option>
                <option value="DINAS PERTANIAN">DINAS PERTANIAN</option>
                <option value="DINAS PETERNAKAN DAN KESEHATAN HEWAN">DINAS PETERNAKAN DAN KESEHATAN HEWAN</option>
                <option value="DINAS PEKERJAAN UMUM DAN PENATAAN RUANG">DINAS PEKERJAAN UMUM DAN PENATAAN RUANG</option>
                <option value="DINAS TENAGA KERJA DAN TRANSMIGRASI">DINAS TENAGA KERJA DAN TRANSMIGRASI</option>
                <option value="DINAS PERIKANAN">DINAS PERIKANAN</option>
                <option value="DINAS PERPUSTAKAAN DAN KEARSIPAN">DINAS PERPUSTAKAAN DAN KEARSIPAN</option>
                <option value="DINAS PEMADAM KEBAKARAN DAN PENYELAMATAN">DINAS PEMADAM KEBAKARAN DAN PENYELAMATAN</option>
                <option value="SATUAN POLISI PAMONG PRAJA">SATUAN POLISI PAMONG PRAJA</option>
                <option value="BADAN PENGAWASAN KEUANGAN DAN PEMBANGUNAN (BPKP)">BADAN PENGAWASAN KEUANGAN DAN PEMBANGUNAN (BPKP)</option>
                <option value="LAINNYA">LAINNYA</option>
            </select>
        </div>

        <div class="form-group">
            <label for="kecamatan">Kecamatan: *</label>
            <select id="kecamatan" required>
                <option value="">-- Pilih Kecamatan --</option>
                <option value="Tulang Bawang Tengah">Tulang Bawang Tengah</option>
                <option value="Tulang Bawang Udik">Tulang Bawang Udik</option>
                <option value="Gunung Terang">Gunung Terang</option>
                <option value="Gunung Agung">Gunung Agung</option>
                <option value="Lambu Kibang">Lambu Kibang</option>
                <option value="Way Kenanga">Way Kenanga</option>
                <option value="Tumijajar">Tumijajar</option>
                <option value="Pagar Dewa">Pagar Dewa</option>
                <option value="Batu Putih">Batu Putih</option>
            </select>
        </div>

        <div class="form-group">
            <label for="desa">Desa/Tiyuh: *</label>
            <select id="desa" required>
                <option value="">-- Pilih Desa --</option>
                <!-- Desa options should be dynamically populated based on Kecamatan -->
            </select>
        </div>

        <div class="form-group">
            <label for="pihak">PIHAK YANG DITEMUI: *</label>
            <select id="pihak" required>
                <option value="">-- Pilih Pihak yang Ditemui --</option>
                <option value="INSPEKTUR">INSPEKTUR</option>
                <option value="SEKRETARIS">SEKRETARIS</option>
                <option value="IRBANSUS">IRBANSUS</option>
                <option value="IRBAN 1">IRBAN 1</option>
                <option value="IRBAN 2">IRBAN 2</option>
                <option value="IRBAN 3">IRBAN 3</option>
                <option value="IRBAN 4">IRBAN 4</option>
            </select>
        </div>

        <div class="form-group">
            <label for="jenisLayanan">JENIS LAYANAN: *</label>
            <select id="jenisLayanan" required>
                <option value="">-- Pilih Jenis Layanan --</option>
                <option value="Permintaan Audit/Klarifikasi Khusus">Permintaan Audit/Klarifikasi Khusus</option>
                <option value="Penanganan Pengaduan">Penanganan Pengaduan</option>
                <option value="Layanan Informasi Publik">Layanan Informasi Publik</option>
                <option value="Pembinaan & Konsultasi">Pembinaan & Konsultasi</option>
                <option value="Audit">Audit</option>
                <option value="Review">Review</option>
                <option value="Evaluasi/Monitoring">Evaluasi/Monitoring</option>
                <option value="Tindak Lanjut Temuan">Tindak Lanjut Temuan</option>
            </select>
        </div>

        <div class="form-group">
            <label for="uraian">URAIAN: *</label>
            <textarea id="uraian" required></textarea>
        </div>

        <div class="form-group">
            <label for="nomorHp">NOMOR HP: *</label>
            <input type="tel" id="nomorHp" required>
        </div>

        <div class="form-group">
            <label for="signature">Tanda Tangan: *</label>
            <canvas id="signature-pad" class="signature-pad" width="400" height="200"></canvas>
            <p class="warning">‚ö†Ô∏è Tanda tangan wajib diisi!</p>
            <button type="button" id="clear-signature">üßπ Bersihkan Tanda Tangan</button>
        </div>

        <div class="form-group">
            <label for="foto">Foto: *</label>
            <input type="file" id="foto" accept="image/*" capture="camera" required>
            <p class="warning">‚ö†Ô∏è Foto wajib diambil!</p>
            <button type="button" onclick="document.getElementById('foto').click()">üì∏ Ambil Foto</button>
        </div>

        <button type="submit">üíæ Simpan Data</button>
    </form>

    <h2>üìä DATA BUKU TAMU</h2>
    <button>üóëÔ∏è Hapus Semua Data</button>
    <p>Belum ada data yang tersimpan</p>

    <script>
        // Initialize SignaturePad
        const canvas = document.getElementById('signature-pad');
        const signaturePad = new SignaturePad(canvas, {
            penColor: '#0000FF', // Deep blue to mimic real pen
            minWidth: 1,
            maxWidth: 2.5 // Natural stroke width
        });

        // Clear signature button
        document.getElementById('clear-signature').addEventListener('click', () => {
            signaturePad.clear();
        });

        // Toggle Instansi/Unit Kerja dropdown based on Asal selection
        function toggleInstansi() {
            const instansiAsal = document.getElementById('instansiAsal').value;
            const instansiGroup = document.getElementById('instansiGroup');
            if (instansiAsal === 'INSTANSI/UNIT KERJA') {
                instansiGroup.style.display = 'block';
                document.getElementById('daftarInstansi').required = true;
            } else {
                instansiGroup.style.display = 'none';
                document.getElementById('daftarInstansi').required = false;
            }
        }

        // Form submission handling
        document.getElementById('guestForm').addEventListener('submit', (e) => {
            e.preventDefault();
            if (signaturePad.isEmpty()) {
                alert('Tanda tangan wajib diisi!');
                return;
            }
            // Handle form submission (e.g., save data)
            console.log('Form submitted');
        });

        // Resize canvas for responsiveness
        function resizeCanvas() {
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            canvas.width = canvas.offsetWidth * ratio;
            canvas.height = canvas.offsetHeight * ratio;
            canvas.getContext('2d').scale(ratio, ratio);
            signaturePad.clear(); // Clear to prevent distortion
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
    </script>
</body>
</html>
